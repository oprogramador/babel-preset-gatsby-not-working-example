Run:
```
yarn
yarn build
```

It throws:
```
  Error: ./.cache/production-app.js
  Module build failed: Error: `babel-preset-gatsby` has been loaded, which consumes config generated by the Gatsby CLI. Set `NODE_ENV=test` to bypass, or run `gatsby build` first. (While processing preset  : "/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-preset-gatsby/index.js")
      at loadCachedConfig (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-preset-gatsby/index.js:18:15)
      at preset (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-preset-gatsby/index.js:34:29)
      at /Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/options/option-manager.js:317:46
      at Array.map (<anonymous>)
      at OptionManager.resolvePresets (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/options/option-manager.js:275:20)
      at OptionManager.mergePresets (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/options/option-manager.js:264:10)
      at OptionManager.mergeOptions (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/options/option-manager.js:249:14)
      at OptionManager.init (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/options/option-manager.js:368:12)
      at File.initOptions (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/index.js:212:65)
      at new File (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/file/index.js:135:24)
      at Pipeline.transform (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-core/lib/transformation/pipeline.js:46:16)
      at transpile (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-loader/lib/index.js:46:20)
      at /Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-loader/lib/fs-cache.js:79:18
      at ReadFileContext.callback (/Users/oprogramador/babel-preset-gatsby-not-working-example/node_modules/babel-loader/lib/fs-cache.js:15:14)
      at FSReqWrap.readFileAfterOpen [as oncomplete] (fs.js:237:13)
```

However, after `echo '{}' > .babelrc`, `yarn build` succeeds.
```
⟩ yarn build
yarn run v1.16.0
warning package.json: No license field
warning ../package.json: No license field
$ rm -rf .cache && rm -rf public && ./node_modules/.bin/gatsby build
success delete html and css files from previous builds — 0.014 s
success open and validate gatsby-config — 0.005 s
success copy gatsby files — 0.015 s
success onPreBootstrap — 0.030 s
success source and transform nodes — 0.020 s
success building schema — 0.104 s
success createLayouts — 0.017 s
success createPages — 0.001 s
success createPagesStatefully — 0.003 s
success onPreExtractQueries — 0.000 s
success update schema — 0.047 s
success extract queries from components — 0.008 s
success run graphql queries — 0.001 s
success write out page data — 0.003 s
success write out redirect data — 0.001 s
success onPostBootstrap — 0.001 s

info bootstrap finished - 1.843 s

success Building CSS — 1.967 s
success Building production JavaScript bundles — 5.507 s
success Building static HTML for pages — 1.542 s
info Done building in 10.863 sec
✨  Done in 11.01s.
```
